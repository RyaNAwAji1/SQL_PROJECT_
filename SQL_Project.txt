create database store;
use store;

create table countries(
id int primary key,
name varchar(20) not null,
continent_name varchar(20) unique
);

create table users(
id int primary key,
full_name varchar(20) not null,
email varchar(20) unique,
gender char(1) check(gender='m' or gender= 'f'),
date_of_birth varchar(15) not null,
created_at datetime,
country_code int ,
foreign key (country_code) references countries (code)
);

create table orders(
id int primary key,
user_id int ,
status varchar(6) check( status='start' or status= 'finish'),
created_at datetime,
foreign key (user_id)references users (id)
);

create table order_products(
order_id int primary key,
product_id int primary key,
quantity int default 0,
foreign key (order_id) references orders(id),
foreign key (product_id) references products(id)
);

create table products(
id int primary key,
name varchar(10) not null,
price int default 0,
status varchar(10) check(status='valid' or status= 'expired'),
created_at datetime
);


#DML insert countries 

insert into countries values(1, 'Saudi Arabia', 'Asia');
select * from countries;


#DML insert users 

insert into users values(2, 'Ryan Mohammed Awaji', 'Ryanawaji053@gmail.com', 'm', '1993/12/25', '17/4','966');
select * from users;


#DML insert orders 

insert into orders values(3, 4, 'single','17/4');
select * from orders;

#DML insert order_products 

insert into order_products values(6, 12321, 343);
select * from order_products;

#DML insert products 

insert into products values(5, 'RyanAwaji', 'available','17/4');
select * from products;



#DML / update countries

update countries 
set name ='rname'
where code =1;
select * from countries

#DML / delete 

delete from products 
where id = ;
select * from countries;




